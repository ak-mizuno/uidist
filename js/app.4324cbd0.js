(function (e) { function t(t) { for (var r, s, o = t[0], l = t[1], i = t[2], d = 0, u = []; d < o.length; d++)s = o[d], Object.prototype.hasOwnProperty.call(c, s) && c[s] && u.push(c[s][0]), c[s] = 0; for (r in l) Object.prototype.hasOwnProperty.call(l, r) && (e[r] = l[r]); b && b(t); while (u.length) u.shift()(); return n.push.apply(n, i || []), a() } function a() { for (var e, t = 0; t < n.length; t++) { for (var a = n[t], r = !0, o = 1; o < a.length; o++) { var l = a[o]; 0 !== c[l] && (r = !1) } r && (n.splice(t--, 1), e = s(s.s = a[0])) } return e } var r = {}, c = { app: 0 }, n = []; function s(t) { if (r[t]) return r[t].exports; var a = r[t] = { i: t, l: !1, exports: {} }; return e[t].call(a.exports, a, a.exports, s), a.l = !0, a.exports } s.m = e, s.c = r, s.d = function (e, t, a) { s.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: a }) }, s.r = function (e) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, s.t = function (e, t) { if (1 & t && (e = s(e)), 8 & t) return e; if (4 & t && "object" === typeof e && e && e.__esModule) return e; var a = Object.create(null); if (s.r(a), Object.defineProperty(a, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var r in e) s.d(a, r, function (t) { return e[t] }.bind(null, r)); return a }, s.n = function (e) { var t = e && e.__esModule ? function () { return e["default"] } : function () { return e }; return s.d(t, "a", t), t }, s.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, s.p = "/"; var o = window["webpackJsonp"] = window["webpackJsonp"] || [], l = o.push.bind(o); o.push = t, o = o.slice(); for (var i = 0; i < o.length; i++)t(o[i]); var b = l; n.push([1, "chunk-vendors"]), a() })({ 0: function (e, t) { }, 1: function (e, t, a) { e.exports = a("56d7") }, 2: function (e, t) { }, 3: function (e, t) { }, "3b49": function (e, t, a) { "use strict"; a("49df") }, "49df": function (e, t, a) { }, "56d7": function (e, t, a) { "use strict"; a.r(t); var r = a("7a23"); function c(e, t, a, c, n, s) { const o = Object(r["v"])("TheHeadingNavigator"), l = Object(r["v"])("router-view"); return Object(r["q"])(), Object(r["e"])(r["a"], null, [Object(r["h"])(o), Object(r["h"])(l)], 64) } const n = { class: "navbar navbar-expand-lg navbar-light bg-light" }, s = { class: "container" }, o = Object(r["f"])("a", { class: "navbar-brand", href: "/" }, "DX", -1), l = Object(r["f"])("button", { class: "navbar-toggler", type: "button", "data-bs-toggle": "collapse", "data-bs-target": "#navbarSupportedContent", "aria-controls": "navbarSupportedContent", "aria-expanded": "false", "aria-label": "Toggle navigation" }, [Object(r["f"])("span", { class: "navbar-toggler-icon" })], -1), i = { class: "collapse navbar-collapse", id: "navbarSupportedContent" }, b = { class: "navbar-nav me-auto mb-2 mb-lg-0" }, d = { class: "nav-item" }, u = Object(r["g"])("ホーム"), f = { class: "nav-item dropdown" }, p = Object(r["f"])("a", { class: "nav-link dropdown-toggle", href: "#", id: "navbarDropdown", role: "button", "data-bs-toggle": "dropdown", "aria-expanded": "false" }, "カテゴリー", -1), O = { class: "dropdown-menu", "aria-labelledby": "navbarDropdown" }, j = { class: "nav-item" }, m = Object(r["g"])("SignUp"), g = { class: "d-flex" }; function h(e, t, a, c, h, v) { const y = Object(r["v"])("router-link"); return Object(r["q"])(), Object(r["e"])("nav", n, [Object(r["f"])("div", s, [o, l, Object(r["f"])("div", i, [Object(r["f"])("ul", b, [Object(r["f"])("li", d, [Object(r["h"])(y, { class: "nav-link", "aria-current": "page", to: "/" }, { default: Object(r["B"])(() => [u]), _: 1 })]), Object(r["f"])("li", f, [p, Object(r["f"])("ul", O, [(Object(r["q"])(!0), Object(r["e"])(r["a"], null, Object(r["u"])(v.categories, e => (Object(r["q"])(), Object(r["e"])("li", { key: e.id }, [Object(r["h"])(y, { "aria-current": "page", class: "dropdown-item", to: "/category/" + e.id }, { default: Object(r["B"])(() => [Object(r["g"])(Object(r["x"])(e.name), 1)]), _: 2 }, 1032, ["to"])]))), 128))])]), Object(r["f"])("li", j, [Object(r["h"])(y, { "aria-current": "page", class: "nav-link", to: "/signup" }, { default: Object(r["B"])(() => [m]), _: 1 })])]), Object(r["f"])("form", g, [Object(r["C"])(Object(r["f"])("input", { class: "form-control me-2", "onUpdate:modelValue": t[0] || (t[0] = e => h.searchText = e), type: "search", placeholder: "カテゴリー検索", "aria-label": "Search" }, null, 512), [[r["z"], h.searchText]]), Object(r["f"])("button", { class: "btn btn-outline-success", type: "submit", onClick: t[1] || (t[1] = Object(r["D"])((...e) => v.search && v.search(...e), ["prevent"])) }, "Search")])])])]) } var v = { data() { return { searchText: "" } }, computed: { categories() { return this.$store.state.categories } }, methods: { search() { const e = this.$store.state.categories.filter(e => e.name === this.searchText)[0]; void 0 != e ? this.$router.push({ name: "Category", params: { id: e.id } }) : alert("該当カテゴリはありませんでした。") } } }, y = a("d959"), w = a.n(y); const C = w()(v, [["render", h]]); var x = C; const q = { class: "container" }, N = { class: "row" }; function k(e, t, a, c, n, s) { const o = Object(r["v"])("CarListHeader"), l = Object(r["v"])("CarListContent"); return Object(r["q"])(), Object(r["e"])("div", q, [(Object(r["q"])(!0), Object(r["e"])(r["a"], null, Object(r["u"])(s.categories, e => (Object(r["q"])(), Object(r["e"])("div", N, [Object(r["h"])(o, { category: e, key: e.id }, null, 8, ["category"]), Object(r["h"])(l, { category: e, cars: s.cars, key: e.id }, null, 8, ["category", "cars"])]))), 256))]) } const I = { class: "col-12 m-2" }, P = { class: "float-start" }, S = { class: "text-left" }; function T(e, t, a, c, n, s) { return Object(r["q"])(), Object(r["e"])("div", I, [Object(r["f"])("div", P, [Object(r["f"])("h4", S, Object(r["x"])(a.category.name), 1)])]) } var $ = { props: { category: { type: Object, required: !0 } } }; const _ = w()($, [["render", T]]); var M = _; const L = { class: "card mb-2" }, U = { class: "card-body" }, z = { class: "card-title" }, D = { class: "card-text" }, H = { key: 0, class: "alert alert-warning", role: "alert" }, V = Object(r["f"])("p", null, "該当カテゴリーの車はありません。", -1), B = [V]; function A(e, t, a, c, n, s) { const o = Object(r["v"])("router-link"); return Object(r["q"])(), Object(r["e"])(r["a"], null, [(Object(r["q"])(!0), Object(r["e"])(r["a"], null, Object(r["u"])(s.filterCars, e => (Object(r["q"])(), Object(r["e"])("div", { class: "float-start col-4", key: e.id }, [Object(r["h"])(o, { "aria-current": "page", class: "dropdown-item", to: "/car/" + e.id }, { default: Object(r["B"])(() => [Object(r["f"])("div", L, [Object(r["f"])("div", U, [Object(r["f"])("h5", z, Object(r["x"])(e.name), 1), Object(r["f"])("p", D, Object(r["x"])(e.grade), 1)])])]), _: 2 }, 1032, ["to"])]))), 128)), 0 === s.filterCars.length ? (Object(r["q"])(), Object(r["e"])("div", H, B)) : Object(r["d"])("", !0)], 64) } var E = { props: { category: { type: Object, required: !0 }, cars: { type: Array } }, computed: { filterCars() { return this.cars.filter(e => e.categoryId == this.category.id) } } }; const J = w()(E, [["render", A]]); var F = J, G = { components: { CarListHeader: M, CarListContent: F }, computed: { categories() { return this.$store.state.categories }, cars() { return this.$store.state.cars } } }; const R = w()(G, [["render", k]]); var X = R; const K = { class: "container" }, Q = { class: "row" }; function W(e, t, a, c, n, s) { const o = Object(r["v"])("CarListHeader"), l = Object(r["v"])("CarListContent"); return Object(r["q"])(), Object(r["e"])("div", K, [Object(r["f"])("div", Q, [Object(r["h"])(o, { category: s.category }, null, 8, ["category"]), Object(r["h"])(l, { category: s.category, cars: s.cars }, null, 8, ["category", "cars"])])]) } var Y = { components: { CarListHeader: M, CarListContent: F }, computed: { categoryId() { return this.$route.params["id"] }, category() { const e = this.categoryId; return this.$store.state.categories.filter(t => t.id === e)[0] }, cars() { const e = this.categoryId; return this.$store.state.cars.filter(t => t.categoryId === e) } } }; const Z = w()(Y, [["render", W]]); var ee = Z; const te = { class: "container" }, ae = { class: "row" }, re = { class: "col-12" }, ce = Object(r["f"])("legend", null, "サインアップ", -1), ne = { class: "mb-3" }, se = Object(r["f"])("label", { for: "email", class: "form-label" }, "メールアドレス", -1), oe = { class: "mb-3" }, le = Object(r["f"])("label", { for: "password", class: "form-label" }, "パスワード", -1), ie = { class: "mb-3" }, be = Object(r["f"])("label", { for: "familyName", class: "form-label" }, "姓", -1), de = { class: "mb-3" }, ue = Object(r["f"])("label", { for: "givenName", class: "form-label" }, "名", -1), fe = Object(r["f"])("input", { type: "submit", class: "btn btn-primary", value: "登録" }, null, -1), pe = { class: "modal fade", id: "result", tabindex: "-1", "aria-labelledby": "resultModalLabel", "aria-hidden": "true" }, Oe = { class: "modal-dialog" }, je = { class: "modal-content" }, me = Object(r["f"])("div", { class: "modal-header" }, [Object(r["f"])("h5", { class: "modal-title", id: "exampleModalLabel" }, "Result"), Object(r["f"])("button", { type: "button", class: "btn-close", "data-bs-dismiss": "modal", "aria-label": "Close" })], -1), ge = { class: "modal-body" }, he = { class: "modal-footer" }, ve = Object(r["f"])("button", { type: "button", class: "btn btn-secondary", "data-bs-dismiss": "modal" }, "再入力", -1); function ye(e, t, a, c, n, s) { return Object(r["q"])(), Object(r["e"])(r["a"], null, [Object(r["f"])("div", te, [Object(r["f"])("div", ae, [Object(r["f"])("div", re, [Object(r["f"])("form", { class: "text-start", onSubmit: t[4] || (t[4] = Object(r["D"])((...e) => s.register && s.register(...e), ["prevent"])) }, [Object(r["f"])("fieldset", null, [ce, Object(r["f"])("div", ne, [se, Object(r["C"])(Object(r["f"])("input", { type: "email", id: "email", "onUpdate:modelValue": t[0] || (t[0] = e => n.email = e), class: "form-control", placeholder: "メールアドレス", required: "" }, null, 512), [[r["z"], n.email]])]), Object(r["f"])("div", oe, [le, Object(r["C"])(Object(r["f"])("input", { type: "password", id: "password", "onUpdate:modelValue": t[1] || (t[1] = e => n.password = e), class: "form-control", required: "" }, null, 512), [[r["z"], n.password]])]), Object(r["f"])("div", ie, [be, Object(r["C"])(Object(r["f"])("input", { type: "text", id: "familyName", "onUpdate:modelValue": t[2] || (t[2] = e => n.familyName = e), class: "form-control", placeholder: "苗字", required: "" }, null, 512), [[r["z"], n.familyName]])]), Object(r["f"])("div", de, [ue, Object(r["C"])(Object(r["f"])("input", { type: "text", id: "givenName", "onUpdate:modelValue": t[3] || (t[3] = e => n.givenName = e), class: "form-control", placeholder: "名前", required: "" }, null, 512), [[r["z"], n.givenName]])]), fe])], 32)])])]), Object(r["f"])("div", pe, [Object(r["f"])("div", Oe, [Object(r["f"])("div", je, [me, Object(r["f"])("div", ge, Object(r["x"])(n.result), 1), Object(r["f"])("div", he, [Object(r["f"])("button", { class: "btn btn-primary", onClick: t[5] || (t[5] = Object(r["D"])((...e) => s.dismissModal && s.dismissModal(...e), ["prevent"])) }, "戻る"), ve])])])])], 64) } var we = a("4c44"), Ce = a("4a9d"); const xe = e => { Ce["Config"].region = "ap-northeast-1", Ce["Config"].credentials = new Ce["CognitoIdentityCredentials"]({ IdentityPoolId: "ap-northeast-1:59eae5e8-5505-4c6f-8e3c-d59dfa8d3ee0" }); const t = { UserPoolId: "ap-northeast-1_tVozip5AO", ClientId: "fli418p183r1o5879rmm2l949" }, a = new we["b"](t), r = [new we["a"]({ Name: "family_name", Value: e.familyName }), new we["a"]({ Name: "given_name", Value: e.givenName })]; return new Promise((t, c) => { a.signUp(e.email, e.password, r, null, (e, a) => { e ? c(e) : t(a) }) }) }, qe = async e => { const t = { method: "POST", mode: "cors", headers: { "Content-Type": "application/json" }, referrerPolicy: "no-referrer", body: JSON.stringify(e) }; try { const e = await fetch("https://36wml4aq6i.execute-api.ap-northeast-1.amazonaws.com/default/ts-lambda-600013", t); return e.text() } catch (a) { return a } }; var Ne = { data() { return { email: "", password: "", familyName: "", givenName: "", result: "" } }, methods: { async register() { try { const e = await xe({ email: this.email, password: this.password, familyName: this.familyName, givenName: this.givenName }); this.result = e } catch (t) { this.result = t } const e = new bootstrap.Modal(document.getElementById("result"), { keyboard: !1 }); e.show() }, dismissModal() { const e = bootstrap.Modal.getInstance(document.getElementById("result")); e.dispose(), this.$router.back() } } }; const ke = w()(Ne, [["render", ye]]); var Ie = ke, Pe = { components: { TheHeadingNavigator: x, Home: X, Category: ee, SignUp: Ie }, created() { this.$store.dispatch("getAllCars"), this.$store.dispatch("getAllCategories") }, watch: { async $route(e, t) { const a = e.fullPath, r = t.fullPath, c = Date.now(), n = await qe({ to: a, from: r, date: c }); console.log(n) } } }; a("3b49"); const Se = w()(Pe, [["render", c]]); var Te = Se, $e = a("6c02"); const _e = { class: "container" }, Me = { class: "row" }; function Le(e, t, a, c, n, s) { return Object(r["q"])(), Object(r["e"])("div", _e, [Object(r["f"])("div", Me, [Object(r["f"])("p", null, Object(r["x"])(s.car.id), 1), Object(r["f"])("p", null, Object(r["x"])(s.car.name), 1), Object(r["f"])("p", null, Object(r["x"])(s.car.grade), 1), Object(r["f"])("p", null, Object(r["x"])(s.car.color), 1), Object(r["f"])("p", null, Object(r["x"])(s.car.price), 1), Object(r["f"])("p", null, Object(r["x"])(s.car.fuelCost), 1)])]) } var Ue = { computed: { carId() { return this.$route.params["id"] }, car() { const e = this.carId; return this.$store.state.cars.filter(t => t.id === e)[0] } } }; const ze = w()(Ue, [["render", Le]]); var De = ze, He = a("e036"), Ve = a.n(He); const Be = { class: "container" }, Ae = { class: "row" }, Ee = { class: "col-12" }, Je = { class: "text-center" }, Fe = Object(r["f"])("img", { src: Ve.a, class: "img-thumbnail", alt: "Not Found?" }, null, -1), Ge = Object(r["f"])("h4", null, "Not Found?", -1), Re = Object(r["g"])("Go To Top Page"); function Xe(e, t) { const a = Object(r["v"])("router-link"); return Object(r["q"])(), Object(r["e"])("div", Be, [Object(r["f"])("div", Ae, [Object(r["f"])("div", Ee, [Object(r["f"])("div", Je, [Fe, Ge, Object(r["f"])("p", null, [Object(r["h"])(a, { "aria-current": "page", class: "link-primary", to: "/" }, { default: Object(r["B"])(() => [Re]), _: 1 })])])])])]) } const Ke = {}, Qe = w()(Ke, [["render", Xe]]); var We = Qe; const Ye = [{ path: "/", name: "Home", component: X }, { path: "/category/:id", name: "Category", component: ee }, { path: "/car/:id", name: "Detail", component: De }, { path: "/signup", name: "SignUp", component: Ie }, { path: "/:pathMatch(.*)*", component: We }], Ze = Object($e["a"])({ history: Object($e["b"])(), routes: Ye }); var et = Ze, tt = a("5502"); const at = { method: "GET", mode: "cors", cache: "no-cache", headers: { "Content-Type": "application/json" }, referrerPolicy: "no-referrer" }, rt = async () => { try { const e = await fetch("http://tsamdx.japaneast.azurecontainer.io/category", at); return e.json() } catch (e) { return console.error(e), ["カテゴリーを取得できませんでした"] } }, ct = async () => { try { const e = await fetch("http://tsamdx.japaneast.azurecontainer.io/car", at); return e.json() } catch (e) { return console.error(e), ["車を取得できませんでした"] } }; var nt = Object(tt["a"])({ state() { return { categories: [], cars: [] } }, mutations: { setCars(e, t) { e.cars = t }, setCategories(e, t) { e.categories = t } }, getters: { filterCars: e => t => "" == t ? e.cars : e.cars.filter(e => e.categoryId === t) }, actions: { async getAllCars(e) { const t = await ct(); e.commit("setCars", t) }, async getAllCategories(e) { const t = await rt(); e.commit("setCategories", t) } } }); const st = Object(r["c"])(Te); st.use(nt), st.use(et), st.mount("#app") }, e036: function (e, t, a) { e.exports = a.p + "img/cattail.b6631692.png" } });
//# sourceMappingURL=app.4324cbd0.js.map